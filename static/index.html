<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
  	<link rel="stylesheet" href="http://bootswatch.com/paper/bootstrap.min.css">
  	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <title>ProductForge4</title>
    <link rel="stylesheet" type="text/css" href="stylesheet.css">
    <link href='https://fonts.googleapis.com/css?family=ABeeZee' rel='stylesheet' type='text/css'>

    <script type="text/javascript">
    	function init(){ //after body loads
    		fillForm();
    	}
    	var interests = ["Bowling", "Chess", "Bingo", "Swimming", "Gardening", "Handcraft", "Trivia", "BBQ", "Museum"];
    	var selected = [0, 0, 0, 0, 0, 0, 0, 0, 0];
    	var selectedC = "#33CC33"
    	var unselectedC = "#D3D3D3"
    	function fillForm(){
			var fo = document.getElementById("interestsForm");
			var s = "";
			for(i=0;i<interests.length;i++){
				if(i%3 == 0){ 
					s += "<tr>";
				}
				s += '<td><div id="'+interests[i]+'" onclick=\"switchF(this, '+i+');\" class=\"interestOpt\">'+interests[i]+'</div></td>';
				if(i%3 == 2){ 
					s += "</tr>";
				}

			}
			fo.innerHTML = s;
		}
		function switchF(arg, i){
			selected[i] = !selected[i];
			if(selected[i]){
				arg.style.backgroundColor=selectedC;
			}else{
				arg.style.backgroundColor=unselectedC;
			}
		}

    	function submitInterests() {
    		var query = "";
    		for(i=0;i<interests.length;i++){
    			if(selected[i] == 1){
    				query+= interests[i] + ";";
    			}
    		}
		  	window.location.href = "/list?interests="+query;
		  	return false;
		}

    </script>
  </head>

    <body onload="init();">
	<img src="img/happy-old-people.jpg" style="position: absolute;width: 100%; left: 0px; top: 0px; z-index: -1;">
	<header>

	</header>

	<div id="mainpanel" class="container" >
		<br>
		<div class="row">
		<div class="col-sm-2"></div>
		<div class="col-sm-8" style="border: solid 2px black; background-color:#D3D3D3; margin-top: 300px; text-align:center;">
		<h3 id="tickboxes">Select your interests</h3>
		<form role="form" onsubmit="return submitInterests();" method="POST">
			<table style="width:100%" id="interestsForm" >
			</table>
			<br />
			<button type="submit" class="btn btn-lg btn-success">Find Events</button><br><br>
	    </form>    

	    </div>
	    <div class="col-sm-2">
	    <!--<img width="200%" src="img/intro-form-side.jpg">-->
	    </div>
	    </div>
	    
	</div>
    </body>
</html>
